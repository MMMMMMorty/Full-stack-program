{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","exportedObject","getAll","axios","get","deletePerson","id","delete","concat","updataPerson","newObject","put","addPerson","post","Persons","_ref","showPerson","react_default","a","createElement","Fragment","Notification","_ref2","message","className","ErrorMessage","_ref3","Filter","_ref4","newfilter","onChangeFilterhandler","value","onChange","PersonForm","_ref5","newName","onChangeNamehandler","newNumber","onNumberChangehandler","onClickHandler","type","onClick","App","useEffect","then","response","setPersons","data","_useState","useState","name","number","_useState2","Object","slicedToArray","persons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setfilter","_useState9","_useState10","setMessage","_useState11","_useState12","errMessage","setErrMessage","handler","person","window","confirm","filter","p","console","log","newPersons","includes","length","map","key","App_Notification","App_ErrorMessage","App_Filter","event","target","App_PersonForm","preventDefault","object","find","objectSpread","catch","error","status","setTimeout","App_Persons","ReactDOM","createRoot","document","getElementById","render","src_App_0"],"mappings":"oNACMA,EAAU,eAyBDC,EAPQ,CACnBC,OAhBW,WACX,OAAOC,IAAMC,IAAIJ,IAgBjBK,aAdiB,SAACC,GAClB,OAAOH,IAAMI,OAAM,GAAAC,OAAIR,EAAO,KAAAQ,OAAIF,KAclCG,aAXiB,SAACH,EAAII,GACtB,OAAOP,IAAMQ,IAAG,GAAAH,OAAIR,EAAO,KAAAQ,OAAIF,GAAMI,IAWrCE,UARc,SAACF,GACf,OAAOP,IAAMU,KAAKb,EAASU,KCbzBI,SAAS,SAAFC,GAAmB,IAAfC,EAAUD,EAAVC,WACf,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KAAGJ,KAGDK,EAAc,SAAFC,GAAe,IAAXC,EAAOD,EAAPC,QACpB,OAAa,OAAVA,GAA2B,KAAVA,EACX,KAGPN,EAAAC,EAAAC,cAAA,OAAKK,UAAU,WAAWD,IAGxBE,EAAc,SAAFC,GAAe,IAAXH,EAAOG,EAAPH,QACpB,OAAa,OAAVA,GAA2B,KAAVA,EACX,KAGPN,EAAAC,EAAAC,cAAA,OAAKK,UAAU,SAASD,IAGtBI,EAAQ,SAAFC,GAAwC,IAApCC,EAASD,EAATC,UAAWC,EAAqBF,EAArBE,sBACzB,OACEb,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,iCACqBF,EAAAC,EAAAC,cAAA,SAAOY,MAAOF,EAAWG,SAAUF,OAKtDG,EAAY,SAAFC,GAAsF,IAAlFC,EAAOD,EAAPC,QAASC,EAAmBF,EAAnBE,oBAAqBC,EAASH,EAATG,UAAWC,EAAqBJ,EAArBI,sBAAuBC,EAAcL,EAAdK,eAClF,OACEtB,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOY,MAAOI,EAASH,SAAUI,KAEzCnB,EAAAC,EAAAC,cAAA,sBAAaF,EAAAC,EAAAC,cAAA,SAAOY,MAAOM,EAAWL,SAAUM,KAChDrB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQqB,KAAK,SAASC,QAASF,GAAe,UAkHrCG,EA5GH,WACRC,oBAAU,WAER1C,EACCC,SACA0C,KAAK,SAAAC,GACJC,EAAWD,EAASE,SAErB,IAAG,IAAAC,EAEsBC,mBAAS,CACrC,CAAEC,KAAM,GAAIC,OAAQ,GAAK7C,GAAI,KAC7B8C,EAAAC,OAAAC,EAAA,EAAAD,CAAAL,EAAA,GAFKO,EAAOH,EAAA,GAAEN,EAAUM,EAAA,GAAAI,EAGIP,mBAAS,IAAGQ,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAAnCrB,EAAOsB,EAAA,GAAEC,EAAUD,EAAA,GAAAE,EACQV,mBAAS,IAAGW,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAAvCtB,EAASuB,EAAA,GAAEC,EAAYD,EAAA,GAAAE,EACCb,mBAAS,IAAGc,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAApCjC,EAASkC,EAAA,GAAEC,EAASD,EAAA,GAAAE,EACIhB,mBAAS,IAAGiB,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAApC1C,EAAO2C,EAAA,GAAEC,EAAUD,EAAA,GAAAE,EACWnB,mBAAS,IAAGoB,EAAAhB,OAAAC,EAAA,EAAAD,CAAAe,EAAA,GAA1CE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GA4D1BG,EAAU,SAACjB,EAASkB,GACpBC,OAAOC,QAAO,UAAAnE,OAAWiE,EAAOvB,KAAI,QACtCjD,EACCI,aAAaoE,EAAOnE,IACpBsC,KAAK,SAAAC,GACJC,EAAWS,EAAQqB,OAAO,SAAAC,GAAC,OAAIA,EAAEvE,KAAKmE,EAAOnE,MAC7CwE,QAAQC,IAAIlC,KAEdiC,QAAQC,IAAIN,EAAOnE,MAOjB0E,EAAazB,EAAQqB,OAAO,SAAAH,GAAM,OAAEA,EAAOvB,KAAK+B,SAASpD,KACzDb,EAAaa,EAAUqD,OAAO,EAAEF,EAAWG,IAAI,SAAAV,GAAU,OAAOxD,EAAAC,EAAAC,cAAA,OAAKiE,IAAOX,EAAOvB,MAAOuB,EAAOvB,KAAI,IAAGuB,EAAOtB,OAAM,IAAElC,EAAAC,EAAAC,cAAA,UAAQsB,QAAS,kBAAI+B,EAAQQ,EAAYP,KAAQ,aAA0BlB,EAAQ4B,IAAI,SAAAV,GAAU,OAAOxD,EAAAC,EAAAC,cAAA,OAAKiE,IAAOX,EAAOvB,MAAOuB,EAAOvB,KAAI,IAAGuB,EAAOtB,OAAM,IAAElC,EAAAC,EAAAC,cAAA,UAAQsB,QAAS,kBAAI+B,EAAQjB,EAASkB,KAAQ,aAE1U,OACExD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACkE,EAAY,CAAC9D,QAASA,IACvBN,EAAAC,EAAAC,cAACmE,EAAY,CAAC/D,QAAS+C,IACvBrD,EAAAC,EAAAC,cAACoE,EAAM,CAAC1D,UAAWA,EAAWC,sBAXJ,SAAC0D,GAC7BxB,EAAUwB,EAAMC,OAAO1D,UAWrBd,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACuE,EAAU,CAACvD,QAASA,EAASC,oBAjFN,SAACoD,GAC3BA,EAAMG,iBACNjC,EAAW8B,EAAMC,OAAO1D,QA+EkDM,UAAWA,EAAWC,sBA5EpE,SAACkD,GAC7BA,EAAMG,iBACN9B,EAAa2B,EAAMC,OAAO1D,QA0EoHQ,eAvEzH,SAACiD,GACtBA,EAAMG,iBACN,IAAMC,EAASrC,EAAQsC,KAAK,SAAApB,GAAM,OAAIA,EAAOvB,OAASf,IACtD,GAAGyD,EAAO,CACR,GAAIlB,OAAOC,QAAO,GAAAnE,OAAI2B,EAAO,iEAAiE,CAC5F,IAAMzB,EAAS2C,OAAAyC,EAAA,EAAAzC,CAAA,GAAOuC,EAAM,CAAEzC,OAAQd,IACtCpC,EACCQ,aAAamF,EAAOtF,GAAII,GACxBkC,KAAK,SAAAC,GACJiC,QAAQC,IAAIlC,EAASE,MACrBD,EAAWS,EAAQ4B,IAAI,SAAAV,GAAM,OAAEA,EAAOnE,KAAKsF,EAAOtF,GAAGmE,EAAO5B,EAASE,UAEtEgD,MAAM,SAAAC,GACuB,KAAzBA,EAAMnD,SAASoD,QAChB1B,EAAcyB,EAAMnD,SAASE,KAAKiD,OAClCE,WAAW,kBAAI3B,EAAc,OAAO,KACpCO,QAAQC,IAAIiB,EAAMnD,SAASE,KAAKiD,QACA,KAAzBA,EAAMnD,SAASoD,QACtB1B,EAAa,kBAAA/D,OAAmBoF,EAAO1C,KAAI,0CAC3CgD,WAAW,kBAAI3B,EAAc,OAAO,KACpCzB,EAAWS,EAAQqB,OAAO,SAAAH,GAAM,OAAEA,EAAOnE,KAAKsF,EAAOtF,OAErDwE,QAAQC,IAAIiB,KAIlBtC,EAAW,IACXG,EAAa,SAEb5D,EACCW,UAAU,CAACsC,KAAMf,EAASgB,OAAQd,IAClCO,KAAK,SAAAC,GACJiC,QAAQC,IAAIlC,EAASE,MACrBD,EAAWS,EAAQ/C,OAAOqC,EAASE,OACnCoB,EAAU,GAAA3D,OAAI2B,EAAO,mCACrB+D,WAAW,kBAAI/B,EAAW,OAAO,KACjCT,EAAW,IACXG,EAAa,MAEdkC,MAAM,SAAAC,GACLlB,QAAQC,IAAIiB,EAAMnD,SAASE,KAAKiD,OAChCzB,EAAcyB,EAAMnD,SAASE,KAAKiD,YA+BpC/E,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACgF,EAAO,CAACnF,WAAYA,MClJ3BoF,IAASC,WAAWC,SAASC,eAAe,SAASC,OAAOvF,EAAAC,EAAAC,cAACsF,EAAG","file":"static/js/main.82b71cec.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = () => {\n    return axios.get(baseUrl);\n}\nconst deletePerson = (id) =>{\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updataPerson = (id, newObject) =>{\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst addPerson = (newObject) =>{\n    return axios.post(baseUrl, newObject)\n}\n\nconst exportedObject = {\n    getAll,\n    deletePerson,\n    updataPerson,\n    addPerson\n};\n\nexport default exportedObject;","import React, { useState,  useEffect} from 'react'\nimport exportedObject from './services/persons'\nimport './App.css'\nconst Persons =({showPerson}) =>{\n  return (\n    <>{showPerson}</>\n  )\n}\nconst Notification= ({message})=>{\n  if(message===null|| message===''){\n    return null\n  }\n  return(\n    <div className='message'>{message}</div>\n  )\n}\nconst ErrorMessage= ({message})=>{\n  if(message===null|| message===''){\n    return null\n  }\n  return(\n    <div className='error'>{message}</div>\n  )\n}\nconst Filter =({newfilter, onChangeFilterhandler})=>{\n  return(\n    <form>\n    <div>\n      filter shown with: <input value={newfilter} onChange={onChangeFilterhandler}/>\n    </div>\n    </form>\n  )\n}\nconst PersonForm =({newName, onChangeNamehandler, newNumber, onNumberChangehandler, onClickHandler})=>{\n  return(\n    <form>\n    <div>\n      name: <input value={newName} onChange={onChangeNamehandler}/>\n    </div>\n    <div>number: <input value={newNumber} onChange={onNumberChangehandler}/></div>\n    <div>\n      <button type=\"submit\" onClick={onClickHandler}>add</button>\n    </div>\n    </form>\n  )\n\n}\nconst App = () => {\n    useEffect(() => {\n\n      exportedObject\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n    }, [])\n\n  const [persons, setPersons] = useState([\n    { name: '', number: '' , id: 0}\n  ]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newfilter, setfilter] = useState('')\n  const [message, setMessage] =  useState('')\n  const [errMessage, setErrMessage] =  useState('')\n\n\n\n  const onChangeNamehandler = (event) =>{\n    event.preventDefault()\n    setNewName(event.target.value)\n  }\n\n  const onNumberChangehandler = (event) =>{\n    event.preventDefault()\n    setNewNumber(event.target.value)\n  }\n\n  const onClickHandler = (event) =>{\n    event.preventDefault()\n    const object = persons.find(person => person.name === newName)\n    if(object){\n      if (window.confirm(`${newName} is added to phonebook, replace the old number with new one?`)) {\n        const newObject = {...object, number: newNumber}\n        exportedObject\n        .updataPerson(object.id, newObject)\n        .then(response=>{\n          console.log(response.data)\n          setPersons(persons.map(person=>person.id!==object.id?person:response.data))\n        })\n        .catch(error=>{\n          if(error.response.status == 400){\n            setErrMessage(error.response.data.error)\n            setTimeout(()=>setErrMessage(null), 5000)\n            console.log(error.response.data.error)\n          }else if(error.response.status == 404){\n            setErrMessage(`Information of ${object.name} has already been removed from server`)\n            setTimeout(()=>setErrMessage(null), 5000)\n            setPersons(persons.filter(person=>person.id!==object.id))\n          }else{\n            console.log(error)\n          }\n        })\n      }\n      setNewName(\"\")\n      setNewNumber(\"\")\n    }else{\n      exportedObject\n      .addPerson({name: newName, number: newNumber})\n      .then(response=>{\n        console.log(response.data)\n        setPersons(persons.concat(response.data))\n        setMessage(`${newName} is already added to phonebook`)\n        setTimeout(()=>setMessage(null), 5000)\n        setNewName(\"\")\n        setNewNumber(\"\")\n      })\n      .catch(error => {\n        console.log(error.response.data.error)\n        setErrMessage(error.response.data.error)\n      })\n    }\n  }\n\n  const handler = (persons, person)=>{\n    if (window.confirm(`delete ${person.name}?`)) {\n      exportedObject\n      .deletePerson(person.id)\n      .then(response => {\n        setPersons(persons.filter(p => p.id!==person.id))\n        console.log(response)\n      })\n      console.log(person.id)\n    }\n  }\n\n  const onChangeFilterhandler = (event) =>{\n    setfilter(event.target.value)\n  }\n  const newPersons = persons.filter(person=>person.name.includes(newfilter))\n  const showPerson = newfilter.length>0?newPersons.map(person=> {return(<div key = {person.name}>{person.name} {person.number} <button onClick={()=>handler(newPersons, person)}>delete</button></div>)}):persons.map(person=> {return(<div key = {person.name}>{person.name} {person.number} <button onClick={()=>handler(persons, person)}>delete</button></div>)})\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <ErrorMessage message={errMessage}/>\n      <Filter newfilter={newfilter} onChangeFilterhandler={onChangeFilterhandler}/>\n      <h3>add a new</h3>\n      <PersonForm newName={newName} onChangeNamehandler={onChangeNamehandler} newNumber={newNumber} onNumberChangehandler={onNumberChangehandler} onClickHandler={onClickHandler}/>\n      <h3>Numbers</h3>\n      <Persons showPerson={showPerson}/>\n    </div>\n  )\n}\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}